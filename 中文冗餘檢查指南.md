# ğŸ” å†—é¤˜æª¢æŸ¥ç³»çµ± (Redundancy Check System)

é€™å€‹ç³»çµ±ç‚º Cortex å°ˆæ¡ˆæä¾›å…¨é¢çš„å†—é¤˜æª¢æ¸¬å’Œæ¸…ç†åŠŸèƒ½ï¼Œè™•ç†å‘é‡ã€é—œä¿‚ã€é€²ç¨‹å’Œä»£ç¢¼ä¸­çš„é‡è¤‡é …ç›®ã€‚

## å¿«é€Ÿé–‹å§‹

### 1. å®Œæ•´å†—é¤˜æª¢æŸ¥
```bash
npm run å†—é¤˜æª¢æŸ¥
# æˆ–ä½¿ç”¨è‹±æ–‡åç¨±
npm run redundancy:check
```

### 2. åˆ†é¡æª¢æŸ¥
```bash
# å‘é‡å†—é¤˜æª¢æŸ¥
npm run å‘é‡å†—é¤˜æª¢æŸ¥
npm run redundancy:check:vector

# é—œä¿‚å†—é¤˜æª¢æŸ¥  
npm run é—œä¿‚å†—é¤˜æª¢æŸ¥
npm run redundancy:check:relationship

# é€²ç¨‹å†—é¤˜æª¢æŸ¥
npm run é€²ç¨‹å†—é¤˜æª¢æŸ¥
npm run redundancy:check:process

# ä»£ç¢¼å†—é¤˜æª¢æŸ¥
npm run ä»£ç¢¼å†—é¤˜æª¢æŸ¥  
npm run redundancy:check:code
```

### 3. æ¸…ç†æ“ä½œ
```bash
# æ¸…ç†å‘é‡å†—é¤˜
npm run æ¸…ç†å‘é‡å†—é¤˜
npm run redundancy:cleanup:vector

# æ¸…ç†é—œä¿‚å†—é¤˜
npm run æ¸…ç†é—œä¿‚å†—é¤˜  
npm run redundancy:cleanup:relationship

# é€²éšæ¸…ç†
npm run redundancy:validate
npm run redundancy:cleanup-duplicates
```

## ä½¿ç”¨ç¯„ä¾‹

### ç”Ÿæˆç¶œåˆå ±å‘Š
```bash
npm run å†—é¤˜æª¢æŸ¥ -- --output=reports/å†—é¤˜æª¢æŸ¥å ±å‘Š.md
```

### æ¸…ç†ç‰¹å®šé¡å‹
```bash
# æª¢æŸ¥ä¸¦æ¸…ç†å‘é‡å†—é¤˜
npm run æ¸…ç†å‘é‡å†—é¤˜ -- --output=reports/æ¸…ç†å ±å‘Š.md
```

### å®šæœŸç›£æ§è…³æœ¬
```bash
# æ¯æ—¥æª¢æŸ¥å’Œå ±å‘Š
0 2 * * * cd /è·¯å¾‘/åˆ°/cortexyoung && npm run å†—é¤˜æª¢æŸ¥ -- --output=reports/æ¯æ—¥-$(date +%Y%m%d).md

# æ¯é€±æ¸…ç†åŸ·è¡Œ
0 3 * * 0 npm run æ¸…ç†å‘é‡å†—é¤˜ && npm run æ¸…ç†é—œä¿‚å†—é¤˜
```

## æª¢æ¸¬å…§å®¹

### 1. å‘é‡å†—é¤˜ (Vector Redundancy)
- âœ… é‡è¤‡çš„åµŒå…¥å‘é‡
- âœ… é‡è¤‡çš„å‘é‡å…§å®¹  
- âœ… ç©ºé–“è¨ˆç®— (float32 å­—ç¯€)

### 2. é—œä¿‚å†—é¤˜ (Relationship Redundancy)
- âœ… é‡è¤‡çš„é—œä¿‚ (ä¾†æºâ†’ç›®æ¨™â†’é¡å‹â†’å…ƒæ•¸æ“š)
- âœ… éæ™‚çš„é—œä¿‚
- âœ… å¾ªç’°å¼•ç”¨

### 3. é€²ç¨‹å†—é¤˜ (Process Redundancy)
- âœ… å¤šå€‹é‹è¡Œä¸­çš„åµŒå…¥é€²ç¨‹
- âœ… é‡è¤‡çš„å·¥ä½œé€²ç¨‹
- âœ… å…§å­˜æµªè²»ä¼°ç®—

### 4. ä»£ç¢¼å†—é¤˜ (Code Redundancy)
- âœ… é‡è¤‡çš„å‡½æ•¸å¯¦ç¾
- âœ… é‡è¤‡çš„é…ç½®
- âœ… ä»£ç¢¼é‡è¤‡æª¢æ¸¬

## é æœŸè¼¸å‡ºç¯„ä¾‹

```
ğŸ” Cortex å†—é¤˜æª¢æŸ¥å™¨
============================

# å‘é‡å†—é¤˜å ±å‘Š
- ç¸½é …ç›®æ•¸: 1582
- é‡è¤‡é …ç›®: 47  
- æµªè²»ç©ºé–“: 1.8MB

# é—œä¿‚å†—é¤˜å ±å‘Š
- ç¸½é …ç›®æ•¸: 892
- é‡è¤‡é …ç›®: 12
- æµªè²»ç©ºé–“: 12KB

âœ… å‘é‡å†—é¤˜æ¸…ç†å®Œæˆ: å·²ç§»é™¤ 47 å€‹é‡è¤‡å‘é‡
```

## é…ç½®é¸é …
- è‡ªå‹•å‘é‡ç¶­åº¦è¨ˆç®— (å¯¦éš›åµŒå…¥å¤§å°)
- åŸºæ–¼å“ˆå¸Œçš„å»é‡ (SHA256 for å‘é‡, MD5 for é—œä¿‚)
- å®‰å…¨æ¸…ç† (ä¿ç•™é¦–æ¬¡å‡ºç¾, ç§»é™¤é‡è¤‡)
- ç©ºé–“ä¼°ç®—å’Œå ±å‘Š
- é€²åº¦æ—¥èªŒ

## æ–‡ä»¶çµæ§‹

```
src/
â”œâ”€â”€ redundancy-checker.ts           # ä¸»è¦æª¢æŸ¥å™¨é¡åˆ¥
â”œâ”€â”€ cli/
â”‚   â””â”€â”€ redundancy-check.ts         # å‘½ä»¤è¡Œç•Œé¢
â””â”€â”€ validation/
    â”œâ”€â”€ relationship-redundancy.ts  # é—œä¿‚å°ˆç”¨é©—è­‰
    â””â”€â”€ cleanup-duplicates.ts       # æ¸…ç†è…³æœ¬

reports/
â”œâ”€â”€ redundancy-{timestamp}.md      # è©³ç´°å ±å‘Š
â””â”€â”€ cleanup-{timestamp}.md       # æ¸…ç†å ±å‘Š
```

## æ•…éšœæ’é™¤

### æ¬Šé™å•é¡Œ
```bash
sudo chown -R $(whoami) ./reports/
chmod -R 755 ./reports/
```

### å¤§æ•¸æ“šé›†å…§å­˜å•é¡Œ
```bash
node --max-old-space-size=4096 ./node_modules/.bin/ts-node -r ts-node/register src/cli/redundancy-check.ts
```

### èˆŠé–æ¸…ç†
```bash  
rm -rf ./tmp/redundancy-*
```

## ä¸­æ–‡å‘½ä»¤ç¸½è¦½

| ä¸­æ–‡å‘½ä»¤ | è‹±æ–‡å°æ‡‰ | åŠŸèƒ½èªªæ˜ |
|----------|----------|----------|
| `npm run å†—é¤˜æª¢æŸ¥` | `redundancy:check` | å®Œæ•´å†—é¤˜æª¢æŸ¥ |
| `npm run å‘é‡å†—é¤˜æª¢æŸ¥` | `redundancy:check:vector` | å‘é‡å†—é¤˜æª¢æŸ¥ |
| `npm run é—œä¿‚å†—é¤˜æª¢æŸ¥` | `redundancy:check:relationship` | é—œä¿‚å†—é¤˜æª¢æŸ¥ |
| `npm run é€²ç¨‹å†—é¤˜æª¢æŸ¥` | `redundancy:check:process` | é€²ç¨‹å†—é¤˜æª¢æŸ¥ |
| `npm run ä»£ç¢¼å†—é¤˜æª¢æŸ¥` | `redundancy:check:code` | ä»£ç¢¼å†—é¤˜æª¢æŸ¥ |
| `npm run æ¸…ç†å‘é‡å†—é¤˜` | `redundancy:cleanup:vector` | æ¸…ç†å‘é‡å†—é¤˜ |
| `npm run æ¸…ç†é—œä¿‚å†—é¤˜` | `redundancy:cleanup:relationship` | æ¸…ç†é—œä¿‚å†—é¤˜ |